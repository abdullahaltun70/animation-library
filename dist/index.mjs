import V,{forwardRef,useState,useRef,useCallback,useEffect}from'react';var r={duration:.5,delay:0,easing:"ease-out",opacityStart:0,opacityEnd:1,distance:50,degrees:360,degreesStart:0,scale:.8,axis:"x"};function D(c,s){let{type:t,duration:L,delay:p,easing:g,distance:v,degrees:m,scale:P,opacity:E,axis:R}=c,b=h(L,r.duration),T=h(p,r.delay),f=g||r.easing,o=v??r.distance,A=P??r.scale,y=R||r.axis,n={start:C(E?.start,r.opacityStart),end:C(E?.end,r.opacityEnd)},[x,S]=useState(0),d=useRef(null),a=useRef(null),l=useCallback(e=>{e.target===d.current&&s&&(s(e),e.type==="animationend"?d.current?.removeEventListener("animationend",l):e.type==="transitionend"&&d.current?.removeEventListener("transitionend",l));},[s]);useEffect(()=>{let e=d.current;if(!e)return;e.style.transition="",e.style.transform="",Array.from(e.classList).filter(i=>i.startsWith("animate-")).forEach(i=>e.classList.remove(i)),e.removeEventListener("animationend",l),e.removeEventListener("transitionend",l),a.current&&clearTimeout(a.current);let u=`animate-${t}`,M=r.degreesStart,$=r.degrees;if(t==="rotate")typeof m=="number"?$=m:m&&($=m.end,M=m.start??r.degreesStart),$<M?u="animate-rotate-negative":u="animate-rotate-positive";else if(t==="slide"){let i=o>=0?"positive":"negative";u=`animate-${t}-${y}-${i}`;}else if(t==="bounce"){let i=o>=0?"positive":"negative";u=`animate-${t}-${i}`;}return e.style.setProperty("--animation-duration",`${b}s`),e.style.setProperty("--animation-delay",`${T}s`),e.style.setProperty("--animation-easing",f),t==="fade"?(e.style.setProperty("--opacity-start",`${n.start}`),e.style.setProperty("--opacity-end",`${n.end}`)):t==="slide"?(e.style.setProperty("--distance",`${Math.abs(o)}px`),e.style.setProperty("--opacity-start",`${n.start}`),e.style.setProperty("--opacity-end",`${n.end}`)):t==="scale"?(e.style.setProperty("--scale",`${A}`),e.style.setProperty("--opacity-start",`${n.start}`),e.style.setProperty("--opacity-end",`${n.end}`)):t==="bounce"?(e.style.setProperty("--distance",`${o}px`),e.style.setProperty("--opacity-start",`${n.start}`),e.style.setProperty("--opacity-end",`${n.end}`)):t==="rotate"&&(e.style.setProperty("--degrees-start",`${M}deg`),e.style.setProperty("--degrees-end",`${$}deg`),e.style.setProperty("--opacity-start",`${n.start}`),e.style.setProperty("--opacity-end",`${n.end}`)),u&&(e.offsetWidth,a.current=window.setTimeout(()=>{let i=d.current;i&&(i.style.animation="none",i.offsetWidth,i.style.animation="",i.classList.add(u),s&&i.addEventListener("animationend",l));},20)),()=>{a.current&&clearTimeout(a.current),e&&(e.removeEventListener("animationend",l),e.removeEventListener("transitionend",l));}},[t,b,T,f,o,m,A,n.start,n.end,y,x,s,l]);let O=useCallback(()=>{S(e=>e+1);},[]);return {ref:d,key:x,replay:O}}function h(c,s){let t=typeof c=="number"?c:NaN;return !isNaN(t)&&t>=0?t:s}function C(c,s){return Math.max(0,Math.min(1,typeof c=="number"?c:s))}var k=forwardRef(({children:c,as:s="div",className:t="",onAnimationComplete:L,type:p,duration:g,delay:v,easing:m,distance:P,degrees:E,scale:R,opacity:b,axis:T,...f},o)=>{let A={type:p,duration:g,delay:v,easing:m,distance:P,degrees:E,scale:R,opacity:b,axis:T},{ref:y,key:n}=D(A),x=a=>{typeof y=="object"&&y!==null&&(y.current=a),o&&(typeof o=="function"?o(a):o.current=a);},S=a=>{a.target===y.current&&L?.(),f.onAnimationEnd?.(a);},d=`animated ${t}`.trim();return V.createElement(s,{...f,ref:x,className:d,key:n,onAnimationEnd:S,"data-animation-type":p,"data-animation-duration":g??.5,"data-animation-delay":v??0},c)});k.displayName="Animate";export{k as Animate,D as useAnimation};//# sourceMappingURL=index.mjs.map
//# sourceMappingURL=index.mjs.map