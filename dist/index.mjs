import N,{forwardRef,useState,useRef,useCallback,useEffect}from'react';var n={duration:.5,delay:0,easing:"ease-out",opacityStart:0,opacityEnd:1,distance:50,degrees:360,scale:.8};function x(a){let{type:e,duration:f=n.duration,delay:y=n.delay,easing:l=n.easing,distance:i,degrees:o,scale:d,opacity:E={}}=a,{start:p=n.opacityStart,end:b=n.opacityEnd}=E,[g,A]=useState(0),s=useRef(null),v=useCallback(()=>{switch(e){case "fade":return "animate-fade";case "slide":return (i??n.distance)>=0?"animate-slide-x-positive":"animate-slide-x-negative";case "scale":return "animate-scale";case "rotate":return (o??n.degrees)>=0?"animate-rotate-positive":"animate-rotate-negative";case "bounce":return (i??n.distance)>=0?"animate-bounce-positive":"animate-bounce-negative";default:return console.warn(`Unknown animation type: ${e}`),""}},[e,i,o]);useEffect(()=>{let t=s.current;if(!t)return;let c=v();if(!c)return;let T=Array.from(t.classList).filter(r=>r.startsWith("animate-"));if(T.length>0&&t.classList.remove(...T),t.classList.add(c),t.style.setProperty("--animation-duration",`${L(f,n.duration)}s`),t.style.setProperty("--animation-delay",`${L(y,n.delay)}s`),t.style.setProperty("--animation-easing",l),e==="fade"&&(t.style.setProperty("--opacity-start",R(p).toString()),t.style.setProperty("--opacity-end",R(b).toString())),e==="slide"||e==="bounce"){let r=i!==void 0?i:n.distance;t.style.setProperty("--distance",`${Math.abs(r)}px`);}if(e==="rotate"){let r=o!==void 0?o:n.degrees;t.style.setProperty("--degrees",`${Math.abs(r)}deg`);}if(e==="scale"){let r=d!==void 0?d:n.scale;t.style.setProperty("--scale",r.toString());}return ()=>{s.current&&s.current.classList.remove(c);}},[g,e,f,y,l,i,o,d,p,b,v]);let m=useCallback(()=>{A(t=>t+1);},[]);return {ref:s,key:g,replay:m}}function L(a,e){return typeof a=="number"&&a>=0?a:e}function R(a){let e=typeof a=="number"?a:NaN;return isNaN(e)?0:Math.max(0,Math.min(1,e))}var D=forwardRef(({children:a,as:e="div",className:f="",onAnimationComplete:y,type:l,duration:i,delay:o,easing:d,distance:E,degrees:p,scale:b,opacity:g,...A},s)=>{let v={type:l,duration:i,delay:o,easing:d,distance:E,degrees:p,scale:b,opacity:g},{ref:m,key:t}=x(v),c=u=>{typeof m=="object"&&m!==null&&(m.current=u),s&&(typeof s=="function"?s(u):s.current=u);},T=u=>{u.target===m.current&&y?.(),A.onAnimationEnd?.(u);},r=`animated ${f}`.trim();return N.createElement(e,{...A,ref:c,className:r,key:t,onAnimationEnd:T,"data-animation-type":l,"data-animation-duration":i??.5,"data-animation-delay":o??0},a)});D.displayName="Animate";export{D as Animate,x as useAnimation};//# sourceMappingURL=index.mjs.map
//# sourceMappingURL=index.mjs.map