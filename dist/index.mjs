import N,{forwardRef,useState,useRef,useCallback,useEffect}from'react';var n={duration:.5,delay:0,easing:"ease-out",opacityStart:0,opacityEnd:1,distance:50,degrees:360,scale:.8};function L(i){let{type:e,duration:f=n.duration,delay:y=n.delay,easing:u=n.easing,distance:a,degrees:o,scale:d,opacity:E={}}=i,{start:p=n.opacityStart,end:g=n.opacityEnd}=E,[b,v]=useState(0),s=useRef(null),A=useCallback(()=>{switch(e){case "fade":return "animate-fade";case "slide":return (a??n.distance)>=0?"animate-slide-x-positive":"animate-slide-x-negative";case "scale":return "animate-scale";case "rotate":return (o??n.degrees)>=0?"animate-rotate-positive":"animate-rotate-negative";case "bounce":return (a??n.distance)>=0?"animate-bounce-positive":"animate-bounce-negative";default:return console.warn(`Unknown animation type: ${e}`),""}},[e,a,o]);useEffect(()=>{let t=s.current;if(!t)return;let c=A();if(!c)return;let T=Array.from(t.classList).filter(r=>r.startsWith("animate-"));if(T.length>0&&t.classList.remove(...T),t.classList.add(c),t.style.setProperty("--animation-duration",`${M(f,n.duration)}s`),t.style.setProperty("--animation-delay",`${M(y,n.delay)}s`),t.style.setProperty("--animation-easing",u),e==="fade"&&(t.style.setProperty("--opacity-start",R(p).toString()),t.style.setProperty("--opacity-end",R(g).toString())),e==="slide"||e==="bounce"){let r=a!==void 0?a:n.distance;t.style.setProperty("--distance",`${Math.abs(r)}px`);}if(e==="rotate"){let r=o!==void 0?o:n.degrees;t.style.setProperty("--degrees",`${Math.abs(r)}deg`);}if(e==="scale"){let r=d!==void 0?d:n.scale;t.style.setProperty("--scale",r.toString());}return ()=>{s.current&&s.current.classList.remove(c);}},[b,e,f,y,u,a,o,d,p,g,A]);let m=useCallback(()=>{v(t=>t+1);},[]);return {ref:s,key:b,replay:m}}function M(i,e){return typeof i=="number"&&i>=0?i:e}function R(i){let e=typeof i=="number"?i:NaN;return isNaN(e)?0:Math.max(0,Math.min(1,e))}var D=forwardRef(({children:i,as:e="div",className:f="",onAnimationComplete:y,type:u,duration:a,delay:o,easing:d,distance:E,degrees:p,scale:g,opacity:b,...v},s)=>{let A={type:u,duration:a,delay:o,easing:d,distance:E,degrees:p,scale:g,opacity:b},{ref:m,key:t}=L(A),c=l=>{typeof m=="object"&&m!==null&&(m.current=l),s&&(typeof s=="function"?s(l):s.current=l);},T=l=>{l.target===m.current&&y?.(),v.onAnimationEnd?.(l);},r=`animated ${f}`.trim();return N.createElement(e,{...v,ref:c,className:r,key:t,onAnimationEnd:T,"data-animation-type":u,"data-animation-duration":a??.5,"data-animation-delay":o??0},i)});D.displayName="Animate";export{D as Animate,L as useAnimation};//# sourceMappingURL=index.mjs.map
//# sourceMappingURL=index.mjs.map