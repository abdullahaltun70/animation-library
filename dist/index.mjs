import j,{forwardRef,useState,useRef,useCallback,useEffect}from'react';var d={duration:.5,delay:0,easing:"ease-out",opacityStart:0,opacityEnd:1,distance:50,degreesStart:0,scale:.8,axis:"x"};function S(c,n){let{type:t,duration:$,delay:g,easing:E,distance:b,degrees:l,scale:L,opacity:T,axis:R}=c,p=H($,d.duration),v=H(g,d.delay),y=E||d.easing,r=b??d.distance,x=L??d.scale,u=R||d.axis,i={start:N(T?.start,d.opacityStart),end:N(T?.end,d.opacityEnd)},[A,P]=useState(0),f=useRef(null),a=useRef(null),m=useCallback(e=>{e.target===f.current&&n&&(n(e),e.type==="animationend"?f.current?.removeEventListener("animationend",m):e.type==="transitionend"&&f.current?.removeEventListener("transitionend",m));},[n]);useEffect(()=>{let e=f.current;if(!e)return;if(e.style.transition="",e.style.transform="",Array.from(e.classList).filter(s=>s.startsWith("animate-")).forEach(s=>e.classList.remove(s)),e.removeEventListener("animationend",m),e.removeEventListener("transitionend",m),a.current&&clearTimeout(a.current),t==="rotate"){let s=d.degreesStart;typeof l=="number"?s=l:l&&typeof l.end=="number"&&(s=l.end),e.style.transition=`transform ${p}s ${y} ${v}s`,e.style.transform=`rotate(${s}deg)`,n&&e.addEventListener("transitionend",m);}else {let s=`animate-${t}`;if(t==="slide"){let o=r>=0?"positive":"negative";s=`animate-${t}-${u}-${o}`;}else if(t==="bounce"){let o=r>=0?"positive":"negative";s=`animate-${t}-${o}`;}e.style.setProperty("--animation-duration",`${p}s`),e.style.setProperty("--animation-delay",`${v}s`),e.style.setProperty("--animation-easing",y),t==="fade"&&(e.style.setProperty("--opacity-start",`${i.start}`),e.style.setProperty("--opacity-end",`${i.end}`)),t==="slide"&&(e.style.setProperty("--distance",`${Math.abs(r)}px`),e.style.setProperty("--opacity-start",`${i.start}`),e.style.setProperty("--opacity-end",`${i.end}`)),t==="scale"&&(e.style.setProperty("--scale",`${x}`),e.style.setProperty("--opacity-start",`${i.start}`),e.style.setProperty("--opacity-end",`${i.end}`)),t==="bounce"&&(e.style.setProperty("--distance",`${r}px`),e.style.setProperty("--opacity-start",`${i.start}`),e.style.setProperty("--opacity-end",`${i.end}`)),s&&(e.offsetWidth,a.current=window.setTimeout(()=>{let o=f.current;o&&(o.style.animation="none",o.offsetWidth,o.style.animation="",o.classList.add(s),n&&o.addEventListener("animationend",m));},20));}return ()=>{a.current&&clearTimeout(a.current),e&&(e.removeEventListener("animationend",m),e.removeEventListener("transitionend",m));}},[t,p,v,y,r,l,x,i.start,i.end,u,A,n,m]);let C=useCallback(()=>{P(e=>e+1);},[]);return {ref:f,key:A,replay:C}}function H(c,n){let t=typeof c=="number"?c:NaN;return !isNaN(t)&&t>=0?t:n}function N(c,n){return Math.max(0,Math.min(1,typeof c=="number"?c:n))}var h=forwardRef(({children:c,as:n="div",className:t="",onAnimationComplete:$,type:g,duration:E,delay:b,easing:l,distance:L,degrees:T,scale:R,opacity:p,axis:v,...y},r)=>{let x={type:g,duration:E,delay:b,easing:l,distance:L,degrees:T,scale:R,opacity:p,axis:v},{ref:u,key:i}=S(x),A=a=>{typeof u=="object"&&u!==null&&(u.current=a),r&&(typeof r=="function"?r(a):r.current=a);},P=a=>{a.target===u.current&&$?.(),y.onAnimationEnd?.(a);},f=`animated ${t}`.trim();return j.createElement(n,{...y,ref:A,className:f,key:i,onAnimationEnd:P,"data-animation-type":g,"data-animation-duration":E??.5,"data-animation-delay":b??0},c)});h.displayName="Animate";export{h as Animate,S as useAnimation};//# sourceMappingURL=index.mjs.map
//# sourceMappingURL=index.mjs.map