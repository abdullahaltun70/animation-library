import W,{forwardRef,useState,useRef,useCallback,useEffect}from'react';var d={duration:.5,delay:0,easing:"ease-out",opacityStart:0,opacityEnd:1,distance:50,degreesStart:0,scale:.8,axis:"x"};function M(c,i){let{type:t,duration:L,delay:g,easing:E,distance:b,degrees:f,scale:$,opacity:T,axis:R}=c,p=H(L,d.duration),v=H(g,d.delay),y=E||d.easing,r=b??d.distance,A=$??d.scale,u=R||d.axis,a={start:N(T?.start,d.opacityStart),end:N(T?.end,d.opacityEnd)},[x,P]=useState(0),m=useRef(null),s=useRef(null),l=useCallback(e=>{e.target===m.current&&i&&(i(e),e.type==="animationend"?m.current?.removeEventListener("animationend",l):e.type==="transitionend"&&m.current?.removeEventListener("transitionend",l));},[i]);useEffect(()=>{let e=m.current;if(!e)return;if(e.style.transition="",e.style.transform="",Array.from(e.classList).filter(n=>n.startsWith("animate-")).forEach(n=>e.classList.remove(n)),e.removeEventListener("animationend",l),e.removeEventListener("transitionend",l),s.current&&clearTimeout(s.current),t==="rotate"){let n=d.degreesStart;typeof f=="number"?n=f:f&&typeof f.end=="number"&&(n=f.end),e.style.transition=`transform ${p}s ${y} ${v}s`,e.style.transform=`rotate(${n}deg)`,i&&e.addEventListener("transitionend",l);}else {let n=`animate-${t}`;if(t==="slide"){let o=r>=0?"positive":"negative";n=`animate-${t}-${u}-${o}`;}else if(t==="bounce"){let o=r>=0?"positive":"negative";n=`animate-${t}-${o}`;}e.style.setProperty("--animation-duration",`${p}s`),e.style.setProperty("--animation-delay",`${v}s`),e.style.setProperty("--animation-easing",y),t==="fade"&&(e.style.setProperty("--opacity-start",`${a.start}`),e.style.setProperty("--opacity-end",`${a.end}`)),t==="slide"&&(e.style.setProperty("--distance",`${Math.abs(r)}px`),e.style.setProperty("--opacity-start",`${a.start}`),e.style.setProperty("--opacity-end",`${a.end}`)),t==="scale"&&(e.style.setProperty("--scale",`${A}`),e.style.setProperty("--opacity-start",`${a.start}`),e.style.setProperty("--opacity-end",`${a.end}`)),t==="bounce"&&(e.style.setProperty("--distance",`${r}px`),e.style.setProperty("--opacity-start",`${a.start}`),e.style.setProperty("--opacity-end",`${a.end}`)),n&&(e.offsetWidth,s.current=window.setTimeout(()=>{let o=m.current;o&&(o.style.animation="none",o.offsetWidth,o.style.animation="",o.classList.add(n),i&&o.addEventListener("animationend",l));},20));}return ()=>{s.current&&clearTimeout(s.current),e&&(e.removeEventListener("animationend",l),e.removeEventListener("transitionend",l));}},[t,p,v,y,r,f,A,a.start,a.end,u,x,i,l]);let k=useCallback(()=>{let e=m.current;e&&(e.style.animation="none",Array.from(e.classList).filter(n=>n.startsWith("animate-")).forEach(n=>e.classList.remove(n)),e.offsetHeight,e.style.animation=""),P(S=>S+1);},[]);return {ref:m,key:x,replay:k}}function H(c,i){let t=typeof c=="number"?c:NaN;return !isNaN(t)&&t>=0?t:i}function N(c,i){return Math.max(0,Math.min(1,typeof c=="number"?c:i))}var C=forwardRef(({children:c,as:i="div",className:t="",onAnimationComplete:L,type:g,duration:E,delay:b,easing:f,distance:$,degrees:T,scale:R,opacity:p,axis:v,...y},r)=>{let A={type:g,duration:E,delay:b,easing:f,distance:$,degrees:T,scale:R,opacity:p,axis:v},{ref:u,key:a}=M(A),x=s=>{typeof u=="object"&&u!==null&&(u.current=s),r&&(typeof r=="function"?r(s):r.current=s);},P=s=>{s.target===u.current&&L?.(),y.onAnimationEnd?.(s);},m=`animated ${t}`.trim();return W.createElement(i,{...y,ref:x,className:m,key:a,onAnimationEnd:P,"data-animation-type":g,"data-animation-duration":E??.5,"data-animation-delay":b??0},c)});C.displayName="Animate";export{C as Animate,M as useAnimation};//# sourceMappingURL=index.mjs.map
//# sourceMappingURL=index.mjs.map