'use strict';var J=require('react');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var J__default=/*#__PURE__*/_interopDefault(J);var c={duration:.5,delay:0,easing:"ease-out",opacityStart:0,opacityEnd:1,distance:50,degrees:360,degreesStart:0,scale:.8,axis:"x"};function C(s,r){let{type:t,duration:R,delay:T,easing:b,distance:A,degrees:l,scale:P,opacity:$,axis:S}=s,g=k(R,c.duration),v=k(T,c.delay),p=b||c.easing,d=A??c.distance,x=P??c.scale,y=S||c.axis,o={start:j($?.start,c.opacityStart),end:j($?.end,c.opacityEnd)},[L,N]=J.useState(0),m=J.useRef(null),a=J.useRef(null),E=J.useRef(true),u=J.useCallback(e=>{e.target===m.current&&r&&(r(e),e.type==="animationend"?m.current?.removeEventListener("animationend",u):e.type==="transitionend"&&m.current?.removeEventListener("transitionend",u));},[r]);J.useEffect(()=>{let e=m.current;if(!e)return;if(e.style.transition="",Array.from(e.classList).filter(i=>i.startsWith("animate-")).forEach(i=>e.classList.remove(i)),e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u),a.current&&clearTimeout(a.current),t==="rotate"){let i=c.degreesStart,n=c.degrees;typeof l=="number"?n=l:l&&(i=l.start??c.degreesStart,n=l.end??l.start??c.degrees);let M=window.getComputedStyle(e).transform,D=i;if(M!=="none"&&M.includes("rotate")){let f=M.match(/rotate$(-?\d+\.?\d*)deg$/);f&&(D=parseFloat(f[1]));}if(E.current&&!s.animateOnMount){e.style.transform=`rotate(${n}deg)`,E.current=false;return}e.style.setProperty("--degrees-start",`${D}deg`),e.style.setProperty("--degrees-end",`${n}deg`);let O="animate-rotate-positive";n<D&&(O="animate-rotate-negative"),e.style.setProperty("--animation-duration",`${g}s`),e.style.setProperty("--animation-delay",`${v}s`),e.style.setProperty("--animation-easing",p),e.offsetWidth,a.current=window.setTimeout(()=>{let f=m.current;f&&(f.style.animation="none",f.offsetWidth,f.style.animation="",f.classList.add(O),r&&f.addEventListener("animationend",u));},10);}else {let i=`animate-${t}`;if(t==="slide"){let n=d>=0?"positive":"negative";i=`animate-${t}-${y}-${n}`;}else if(t==="bounce"){let n=d>=0?"positive":"negative";i=`animate-${t}-${n}`;}if(e.style.setProperty("--animation-duration",`${g}s`),e.style.setProperty("--animation-delay",`${v}s`),e.style.setProperty("--animation-easing",p),t==="fade"&&(e.style.setProperty("--opacity-start",`${o.start}`),e.style.setProperty("--opacity-end",`${o.end}`)),t==="slide"&&(e.style.setProperty("--distance",`${Math.abs(d)}px`),e.style.setProperty("--opacity-start",`${o.start}`),e.style.setProperty("--opacity-end",`${o.end}`)),t==="scale"&&(e.style.setProperty("--scale",`${x}`),e.style.setProperty("--opacity-start",`${o.start}`),e.style.setProperty("--opacity-end",`${o.end}`)),t==="bounce"&&(e.style.setProperty("--distance",`${d}px`),e.style.setProperty("--opacity-start",`${o.start}`),e.style.setProperty("--opacity-end",`${o.end}`)),i){if(E.current&&!s.animateOnMount){E.current=false;return}e.offsetWidth,a.current=window.setTimeout(()=>{let n=m.current;n&&(n.style.animation="none",n.offsetWidth,n.style.animation="",n.classList.add(i),r&&n.addEventListener("animationend",u));},10);}}return E.current=false,()=>{a.current&&clearTimeout(a.current),e&&(e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u));}},[t,g,v,p,d,l,x,o.start,o.end,y,L,r,u,s.animateOnMount]);let U=J.useCallback(()=>{let e=m.current;e&&(e.style.animation="none",Array.from(e.classList).filter(i=>i.startsWith("animate-")).forEach(i=>e.classList.remove(i)),e.offsetHeight,e.style.animation=""),N(h=>h+1);},[]);return {ref:m,key:L,replay:U}}function k(s,r){let t=typeof s=="number"?s:NaN;return !isNaN(t)&&t>=0?t:r}function j(s,r){let t=typeof s=="number"?s:NaN;return !isNaN(t)&&t>=0&&t<=1?t:r}var w=J.forwardRef(({children:s,as:r="div",className:t="",onAnimationComplete:R,type:T,duration:b,delay:A,easing:l,distance:P,degrees:$,scale:S,opacity:g,axis:v,...p},d)=>{let x={type:T,duration:b,delay:A,easing:l,distance:P,degrees:$,scale:S,opacity:g,axis:v},{ref:y,key:o}=C(x),L=a=>{typeof y=="object"&&y!==null&&(y.current=a),d&&(typeof d=="function"?d(a):d.current=a);},N=a=>{a.target===y.current&&R?.(),p.onAnimationEnd?.(a);},m=`animated ${t}`.trim();return J__default.default.createElement(r,{...p,ref:L,className:m,key:o,onAnimationEnd:N,"data-animation-type":T,"data-animation-duration":b??.5,"data-animation-delay":A??0},s)});w.displayName="Animate";exports.Animate=w;exports.useAnimation=C;//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map