'use strict';var J=require('react');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var J__default=/*#__PURE__*/_interopDefault(J);var r={duration:.5,delay:0,easing:"ease-out",opacityStart:0,opacityEnd:1,distance:50,degrees:360,degreesStart:0,scale:.8,axis:"x"};function M(d,o){let{type:t,duration:A,delay:f,easing:p,distance:g,degrees:s,scale:P,opacity:v,axis:L}=d,E=N(A,r.duration),b=N(f,r.delay),u=p||r.easing,c=g??r.distance,T=P??r.scale,y=L||r.axis,i={start:C(v?.start,r.opacityStart),end:C(v?.end,r.opacityEnd)},[$,S]=J.useState(0),l=J.useRef(null),a=J.useRef(null),m=J.useCallback(e=>{e.target===l.current&&o&&(o(e),e.type==="animationend"?l.current?.removeEventListener("animationend",m):e.type==="transitionend"&&l.current?.removeEventListener("transitionend",m));},[o]);J.useEffect(()=>{let e=l.current;if(!e)return;e.style.transition="",Array.from(e.classList).filter(n=>n.startsWith("animate-")).forEach(n=>e.classList.remove(n)),e.removeEventListener("animationend",m),e.removeEventListener("transitionend",m),a.current&&clearTimeout(a.current);let x=`animate-${t}`,O=r.degreesStart,U=r.degrees;if(t==="rotate"){let n=typeof s=="object"&&s!==null&&"start"in s?s.start??r.degreesStart:r.degreesStart,V=typeof s=="object"&&s!==null&&"end"in s?s.end:typeof s=="number"?s:r.degrees,R=window.getComputedStyle(e).transform;if(R&&R!=="none"){let W=parseFloat(/rotate$([-\d.]+)deg$/.exec(R)?.[1]||"0");e.style.setProperty("--degrees-start",`${W}deg`);}else e.style.setProperty("--degrees-start",`${n}deg`);e.style.setProperty("--degrees-end",`${V}deg`);}else if(t==="slide"){let n=c>=0?"positive":"negative";x=`animate-${t}-${y}-${n}`;}else if(t==="bounce"){let n=c>=0?"positive":"negative";x=`animate-${t}-${n}`;}return e.style.setProperty("--animation-duration",`${E}s`),e.style.setProperty("--animation-delay",`${b}s`),e.style.setProperty("--animation-easing",u),t==="fade"?(e.style.setProperty("--opacity-start",`${i.start}`),e.style.setProperty("--opacity-end",`${i.end}`)):t==="slide"?(e.style.setProperty("--distance",`${Math.abs(c)}px`),e.style.setProperty("--opacity-start",`${i.start}`),e.style.setProperty("--opacity-end",`${i.end}`)):t==="scale"?(e.style.setProperty("--scale",`${T}`),e.style.setProperty("--opacity-start",`${i.start}`),e.style.setProperty("--opacity-end",`${i.end}`)):t==="bounce"?(e.style.setProperty("--distance",`${c}px`),e.style.setProperty("--opacity-start",`${i.start}`),e.style.setProperty("--opacity-end",`${i.end}`)):t==="rotate"&&(e.style.setProperty("--degrees-start",`${O}deg`),e.style.setProperty("--degrees-end",`${U}deg`),e.style.setProperty("--opacity-start",`${i.start}`),e.style.setProperty("--opacity-end",`${i.end}`)),x&&(e.offsetWidth,a.current=window.setTimeout(()=>{let n=l.current;n&&(n.style.animation="none",n.offsetWidth,n.style.animation="",n.classList.add(x),o&&n.addEventListener("animationend",m));},20)),()=>{a.current&&clearTimeout(a.current),e&&(e.removeEventListener("animationend",m),e.removeEventListener("transitionend",m));}},[t,E,b,u,c,s,T,i.start,i.end,y,$,o,m]);let k=J.useCallback(()=>{let e=l.current;e&&(e.style.animation="none",e.offsetHeight,e.style.animation=""),S(D=>D+1);},[]);return {ref:l,key:$,replay:k}}function N(d,o){let t=typeof d=="number"?d:NaN;return !isNaN(t)&&t>=0?t:o}function C(d,o){return Math.max(0,Math.min(1,typeof d=="number"?d:o))}var j=J.forwardRef(({children:d,as:o="div",className:t="",onAnimationComplete:A,type:f,duration:p,delay:g,easing:s,distance:P,degrees:v,scale:L,opacity:E,axis:b,...u},c)=>{let T={type:f,duration:p,delay:g,easing:s,distance:P,degrees:v,scale:L,opacity:E,axis:b},{ref:y,key:i}=M(T),$=a=>{typeof y=="object"&&y!==null&&(y.current=a),c&&(typeof c=="function"?c(a):c.current=a);},S=a=>{a.target===y.current&&A?.(),u.onAnimationEnd?.(a);},l=`animated ${t}`.trim();return J__default.default.createElement(o,{...u,ref:$,className:l,key:i,onAnimationEnd:S,"data-animation-type":f,"data-animation-duration":p??.5,"data-animation-delay":g??0},d)});j.displayName="Animate";exports.Animate=j;exports.useAnimation=M;//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map