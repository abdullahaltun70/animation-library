// _animation-utilities.scss
/**
 * Animation utilities for Framna
 * This module contains mixins and classes for accessible animations
 */

// Configuration variables
$animation-enabled: true !default; // Global switch for all animations
$animation-reduced: 0.5 !default; // Reduction factor for prefers-reduced-motion

// Feature flags - enable/disable specific animations
$use-fade: true !default;
$use-scale: true !default;
$use-slide: true !default;
$use-rotate: true !default;
$use-bounce: true !default;

// Default values
$default-duration: 0.5s !default;
$default-delay: 0s !default;
$default-easing: ease-in-out !default;
$default-fill-mode: forwards !default;

// Opacity values
$opacity-visible: 1 !default;
$opacity-hidden: 0 !default;

// Default distance
$default-slide-distance: 30px !default;
$default-scale-from: 0.8 !default;
$default-scale-to: 1.2 !default;
$default-rotate-degrees: 180deg !default;

// Accessibility media queries
$prefers-reduced-motion: '(prefers-reduced-motion: reduce)' !default;
$supports-animations: '(prefers-reduced-motion: no-preference)' !default;

// Global accessibility helper
@mixin respect-motion-preferences {
  @media #{$supports-animations} {
    &.minimal-animation,
    .minimal-animation & {
      animation-duration: calc(var(--duration, $default-duration) * #{$animation-reduced}) !important;
      transition-duration: calc(var(--duration, $default-duration) * #{$animation-reduced}) !important;
    }
  }

  @media #{$prefers-reduced-motion} {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}


// Fade utility classes
@if $use-fade {
  .fade-in {
    @include fade-in();
    //&--slow { @include fade-in($duration: 1s); }
    //&--fast { @include fade-in($duration: 0.2s); }
    //&--delayed { @include fade-in($delay: 0.5s); }
  }

  .fade-out {
    @include fade-out();
    //  &--slow { @include fade-out($duration: 1s); }
    //  &--fast { @include fade-out($duration: 0.2s); }
    //  &--delayed { @include fade-out($delay: 0.5s); }
  }
}

// Scale utility classes
@if $use-scale {
  .scale-in {
    @include scale-in();
    //&--slow { @include scale-in($duration: 1s); }
    //&--fast { @include scale-in($duration: 0.2s); }
    //&--delayed { @include scale-in($delay: 0.5s); }
    //&--large { @include scale-in($from: 0.5, $to: 1); }
    //&--small { @include scale-in($from: 0.9, $to: 1); }
  }

  .scale-out {
    @include scale-out();
    //&--slow { @include scale-out($duration: 1s); }
    //&--fast { @include scale-out($duration: 0.2s); }
    //&--delayed { @include scale-out($delay: 0.5s); }
    //&--large { @include scale-out($from: 1, $to: 1.5); }
    //&--small { @include scale-out($from: 1, $to: 1.1); }
  }
}

// Bounce utility classes
@if $use-bounce {
  .bounce-in { @include bounce-in(); }

  .bounce-out { @include bounce-out(); }
}

// Slide utility classes
@if $use-slide {
  .slide-in-left { @include slide-in-left(); }
  .slide-in-right { @include slide-in-right(); }
  .slide-in-up { @include slide-in-up(); }
  .slide-in-down { @include slide-in-down(); }

  .slide-out-left { @include slide-out-left(); }
  .slide-out-right { @include slide-out-right(); }
  .slide-out-up { @include slide-out-up(); }
  .slide-out-down { @include slide-out-down(); }

  // Variations
  .slide-in-left--far { @include slide-in-left($distance: 100px); }
  .slide-in-right--far { @include slide-in-right($distance: 100px); }
  .slide-in-left--slow { @include slide-in-left($duration: 1s); }
  .slide-in-right--fast { @include slide-in-right($duration: 0.2s); }
}

// Rotate utility classes
@if $use-rotate {
  .rotate-in {
    @include rotate-in();
    &--slow { @include rotate-in($duration: 1s); }
    &--fast { @include rotate-in($duration: 0.2s); }
    &--delayed { @include rotate-in($delay: 0.5s); }
    &--partial { @include rotate-in($degrees: 90deg); }
  }

  .rotate-out {
    @include rotate-out();
    &--slow { @include rotate-out($duration: 1s); }
    &--fast { @include rotate-out($duration: 0.2s); }
    &--delayed { @include rotate-out($delay: 0.5s); }
    &--partial { @include rotate-out($degrees: 90deg); }
  }
}

// Class for reduced motion
.minimal-animation {
  * {
    animation-duration: calc(var(--duration, $default-duration) * #{$animation-reduced}) !important;
    transition-duration: calc(var(--duration, $default-duration) * #{$animation-reduced}) !important;
  }
}

// Global configuration to disable animations
@if not $animation-enabled {
  * {
    animation: none !important;
    transition: none !important;
    transform: none !important;
  }
}
